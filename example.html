<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Park Search</title>
    <script src="enjoy-the-outdoors/scripts/locationData.js"></script>
    <script src="enjoy-the-outdoors/scripts/nationalParkData.js"></script>
    <script src="enjoy-the-outdoors/scripts/parkTypeData.js"></script>
</head>
<body>
    <h2>Park Search</h2>
    <form>
        <input type="radio" id="searchByLocation" name="searchType" checked>
        <label for="searchByLocation">Search by Location</label><br>
        <input type="radio" id="searchByParkType" name="searchType">
        <label for="searchByParkType">Search by Park Type</label><br><br>
        
        <span id="dropdownLabel">Choose State:</span>
        <select id="dropdown">
            <div>
                <p id="dropDownItem1"></p>
            </div>
            <!-- Options will be dynamically added here -->
        </select>
    </form>

    <script>

        const dropdown = document.getElementById('dropdown');
        const dropdownLabel = document.getElementById('dropdownLabel');
        const searchByLocation = document.getElementById('searchByLocation');
        const searchByParkType = document.getElementById('searchByParkType');
        const dropDownItem1 = document.getElementById('dropDownItem1');

        // Function to populate dropdown with states
        function populateStates() {
            dropdownLabel.textContent = 'Choose State:';
            dropdown.innerHTML = '';
            locationsArray.forEach(state => {
                const option = document.createElement('option');
                option.textContent = state;
                dropdown.appendChild(option);
            });
        }

        // Function to populate dropdown with park types
        function populateParkTypes() {
            dropdownLabel.textContent = 'Choose Park Type:';
            dropdown.innerHTML = '';
            parkTypesArray.forEach(type => {
                const option = document.createElement('option');
                option.textContent = type;
                dropdown.appendChild(option);
            });
        }

        // Initially populate dropdown with states
        populateStates();

        // Event listeners to switch dropdown content based on radio button selection
        searchByLocation.addEventListener('change', function() {
            if (this.checked) {
                populateStates();
            }
        });

        searchByParkType.addEventListener('change', function() {
            if (this.checked) {
                populateParkTypes();
            }
        });

        function updateDropdown(){
    getParks(searchInput.value);
    //inputSearch.selected = 'true';
  }



  function getParks(selectedItem){
    dropDownItem1.innerHTML = "";
    nationalParksArray.forEach(item => {
      if(searchByLocation.checked){
        if(item["State"] == selectedItem){
          parkTemplate(item);
        }
      }else if(searchByParkType.checked){
        selectedItem = selectedItem.split(" ").pop();
        if(item["LocationName"].split(" ").includes(selectedItem)){
          parkTemplate(item);
        }
      }
        // for(let key in park){
        //   if(park["State"] == "Alabama"){
        //     parkTemplate(park);
        //   }
        // }
      // park.forEach(item => {
      //   if(item.State == selectedItem){
      //     parkTemplate(park);
      //   }
      // });
      //else
    });
  }
  function parkTemplate(park){
    
  }

    </script>
</body>
</html>
